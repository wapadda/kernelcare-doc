(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{218:function(t,e,r){"use strict";r.r(e);var s=r(0),a=Object(s.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),r("p",[t._v("この文書では、最近発見された MDS / Zombieload の脆弱性を軽減するために、KernelCare を使用して再起動せずに SMT（Simultaneous Multithreading） を無効または有効にする方法について説明します。")]),t._v(" "),r("p",[t._v("CPU 同時マルチスレッド化（SMT）を無効にすることは、最近の MDS の脆弱性（「Zombieload」とも呼ばれる）に対抗するために必要な軽減策の1つです。ホスティングプラットフォームの構成とそのワークロードパターンによっては、パフォーマンスに影響があります。また、ゲストに専用コアを割り当てるなど、他の軽減策の影響も考慮する必要があります（VM など）。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._m(6),r("p",[t._v("これらのファイルを配置したらすぐに、SMTを無効にすることができます。")]),t._v(" "),r("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/RUGCvEO1hAE",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),r("p",[t._v("このファイルを使用してSMTを有効または無効にし、またその状態も表示できます。値は3つあります。:")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),r("p",[t._v("このファイルの内容は、SMT のステータスを示します（たとえば、同じ物理コア上で2つ以上の兄弟（sibling）スレッドがアクティブである場合、このファイルの内容は1で、そうでない場合は0です）。")]),t._v(" "),r("p",[t._v("SMTサポートを制御するためのコマンドがいくつかあります（root権限が必要です）。:")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),r("p",[t._v("SMTを無効にし、 "),r("router-link",{attrs:{to:"/how_to's/#ベンダ提供のパッケージで再起動せずにマイクロコードを更新する方法"}},[t._v("マイクロコードを更新し")]),t._v(", KernelCare パッチを適用すると、ZombieLoad の脆弱性からシステムが保護されます。仮想システム（VM、VPS、その他のクラウドインスタンスタイプなど）には、後者のアクションのみが適用されます。")],1),t._v(" "),t._m(18),t._v(" "),r("p",[t._v("ビデオの例が "),r("a",{attrs:{href:"https://asciinema.org/a/zZYA3INITh59ObzSGp9OeLCdn",target:"_blank",rel:"noopener noreferrer"}},[t._v("ここにあります"),r("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(19),t._v(" "),r("p",[t._v("この文書では、Linux を実行している Intel CPU のマイクロコードを更新する方法を説明します。")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),r("ul",[r("li",[r("router-link",{attrs:{to:"/how_to's/#UbuntuとDebianでのマイクロコード更新"}},[t._v("UbuntuとDebianでのマイクロコード更新")])],1),t._v(" "),r("li",[r("router-link",{attrs:{to:"/how_to's/#Red-HatおよびCentOSでのマイクロコード更新"}},[t._v("Red Hat Enterprise Linux（およびその派生物）でのマイクロコード更新)")])],1)]),t._v(" "),r("div",{staticClass:"tip custom-block"},[r("p",{staticClass:"custom-block-title"},[t._v("注記")]),t._v(" "),r("ul",[r("li",[t._v("これらの手順はrootとして実行する必要があります。")]),t._v(" "),r("li",[t._v("示されている例はDebian用です。 (Debian 9のビデオの例は "),r("a",{attrs:{href:"https://asciinema.org/a/pWVQb2xR2K65B9TAfWwgvhOvG",target:"_blank",rel:"noopener noreferrer"}},[t._v("ここをクリックします"),r("OutboundLink")],1),t._v("。)")]),t._v(" "),t._m(22)])]),t._v(" "),t._m(23),t._v(" "),r("ol",[r("li",[r("p",[t._v("あなたのプラットフォーム用のマイクロコードパッケージのダウンロードリンクを探します。")]),t._v(" "),r("ul",[r("li",[t._v("Ubuntu: "),r("a",{attrs:{href:"https://usn.ubuntu.com/3977-1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://usn.ubuntu.com/3977-1/"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("Debian: "),r("a",{attrs:{href:"https://packages.debian.org/search?keywords=intel-microcode",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://packages.debian.org/search?keywords=intel-microcode"),r("OutboundLink")],1)])])]),t._v(" "),t._m(24)]),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),r("p",[t._v("チェックサムのリストは "),r("a",{attrs:{href:"https://packages.debian.org/stretch/amd64/intel-microcode/download",target:"_blank",rel:"noopener noreferrer"}},[t._v("Debianパッケージのダウンロードページ"),r("OutboundLink")],1),t._v(" にあります。")]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),t._m(35),t._v(" "),t._m(36),t._m(37),t._v(" "),t._m(38),t._m(39),t._v(" "),t._m(40),t._m(41),t._v(" "),t._m(42),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),t._m(46),t._m(47),t._v(" "),t._m(48),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._m(56),t._v(" "),t._m(57),t._m(58),t._v(" "),t._m(59),t._m(60),t._v(" "),t._m(61),t._m(62),t._v(" "),t._m(63),r("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/EydWy-b9uns",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),t._m(66),t._m(67),t._v(" "),t._m(68),r("p",[t._v("パッケージを手動でインストールする必要があります。")]),t._v(" "),t._m(69),t._v(" "),t._m(70),r("p",[t._v("コマンド出力:")]),t._v(" "),t._m(71),r("p",[t._v("4, CPUマイクロコードバージョンを確認します.")]),t._v(" "),t._m(72),r("p",[t._v("5, マイクロコードを更新してみてください")]),t._v(" "),t._m(73),r("p",[t._v("出力が表示される場合：")]),t._v(" "),t._m(74),r("p",[t._v("ドライバーのマイクロコードをロードする必要があります。")]),t._v(" "),r("p",[t._v("6, ドライバーのマイクロコードを読み込みます")]),t._v(" "),t._m(75),r("p",[t._v("7, マイクロコードをもう一度更新してみてください")]),t._v(" "),t._m(76),r("p",[t._v("出力が表示される場合")]),t._v(" "),t._m(77),r("p",[t._v("更新は成功です。")]),t._v(" "),r("p",[t._v("8, バージョンを確認してください：")]),t._v(" "),t._m(78),r("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/EydWy-b9uns",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"how-to-集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-集","aria-hidden":"true"}},[this._v("#")]),this._v(" How To 集")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"再起動せずにハイパースレッディング（smt）を無効にする方法-kernelcare-case"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#再起動せずにハイパースレッディング（smt）を無効にする方法-kernelcare-case","aria-hidden":"true"}},[this._v("#")]),this._v(" 再起動せずにハイパースレッディング（SMT）を無効にする方法: KernelCare case")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("カーネルの "),e("code",[this._v("sysfs")]),this._v(" インタフェースを使ってSMTの状態を制御したり、取得したりできます。2つのファイルがあり、両方とも "),e("code",[this._v("/sys/devices/system/cpu/smt")]),this._v(" ディレクトリにあります。:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("control")])]),this._v(" "),e("li",[e("code",[this._v("active")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("/sys/devices/system/cpu/smt")]),this._v(" ディレクトリが見つからない場合は、実行中のカーネルがSMTをサポートしていないことを意味します。この場合、SMTコントロールがシステムで利用可能になるように KernelCareパッチ を適用する必要があります。以下の "),e("code",[this._v("kcarectrl")]),this._v(" コマンドを使用してください。:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("kcarectl --update\nKernel is safe\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("ls -l /sys/devices/system/cpu/smt\n-r--r--r-- 1 root root 4096 May 17 13:06 active\n-rw-r--r-- 1 root root 4096 May 17 13:06 control\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"smt-のコントロール"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#smt-のコントロール","aria-hidden":"true"}},[this._v("#")]),this._v(" SMT のコントロール")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("/sys/devices/system/cpu/smt/control")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ol",[r("li",[r("code",[t._v("on")]),t._v(": CPU は SMT をサポートしており、有効になっています。すべての 論理CPU は、制限なしにオフラインまたはオンラインにできます。")]),t._v(" "),r("li",[r("code",[t._v("off")]),t._v(": CPU は SMT をサポートしていますが、無効になっています。制限なしにオフライン/オンラインにできるのは、いわゆるプライマリ　SMT　スレッドだけです。非プライマリ兄弟（sibling）スレッドをオンラインにしようとすると拒否されます。")]),t._v(" "),r("li",[r("code",[t._v("notsupported")]),t._v(": CPU は SMT をサポートしていません。制御ファイルに書き込むことはできません。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"smt-ステータス"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#smt-ステータス","aria-hidden":"true"}},[this._v("#")]),this._v(" SMT ステータス")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("/sys/devices/system/cpu/smt/active")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"smt-の状態を確認"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#smt-の状態を確認","aria-hidden":"true"}},[this._v("#")]),this._v(" SMT の状態を確認")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cat /sys/devices/system/cpu/smt/active\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"smt-を有効に"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#smt-を有効に","aria-hidden":"true"}},[this._v("#")]),this._v(" SMT を有効に")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo on > /sys/devices/system/cpu/smt/control\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"smt-を無効に"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#smt-を無効に","aria-hidden":"true"}},[this._v("#")]),this._v(" SMT を無効に")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo off > /sys/devices/system/cpu/smt/control\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#例","aria-hidden":"true"}},[this._v("#")]),this._v(" 例")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"ベンダ提供のパッケージで再起動せずにマイクロコードを更新する方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ベンダ提供のパッケージで再起動せずにマイクロコードを更新する方法","aria-hidden":"true"}},[this._v("#")]),this._v(" ベンダ提供のパッケージで再起動せずにマイクロコードを更新する方法")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("注記")]),this._v(" "),e("p",[this._v("この文書は変更されることがあり、他のディストリビューションのための指示で更新されます。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("内容:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("あなたのシステムが　CPU　および　カーネル関連の脆弱性から完全に保護されていることに疑念がある場合は、 "),e("a",{attrs:{href:"mailto:kcsales@gdep-sol.co.jp"}},[this._v("KernelCare社、もしくは GDEPソリューションズ株式会社に連絡を取って下さい。")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ubuntuとdebianでのマイクロコード更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntuとdebianでのマイクロコード更新","aria-hidden":"true"}},[this._v("#")]),this._v(" UbuntuとDebianでのマイクロコード更新")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("パッケージをダウンロードします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("注記")]),this._v(" "),e("p",[this._v("Debian 9　の例")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd <a temporary directory, e.g. /tmp>\nmkdir firmware\ncd firmware\nwget http://security.debian.org/debian-security/pool/updates/non-free/i/intel-microcode/intel-microcode_3.20190514.1~deb9u1_amd64.deb\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("ダウンロードしたパッケージをチェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("md5sum intel-microcode_3.20190514.1~deb9u1_amd64.deb\nc7bc9728634137453e0f4821fb6bb436  intel-microcode_3.20190514.1~deb9u1_amd64.deb\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("パッケージを解凍します。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("dpkg -x intel-microcode_3.20190514.1~deb9u1_amd64.deb\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("解凍したファイルをチェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("ls -l\ntotal 1896\ndrwxr-xr-x 5 root root   53 May 15 04:18 etc\n-rw-r--r-- 1 root root 1940140 May 17 11:42 intel-microcode_3.20190514.1~deb9u1_amd64.deb\ndrwxr-xr-x 3 root root   22 May 15 04:18 lib\ndrwxr-xr-x 3 root root   19 May 15 04:18 usr\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("既存のマイクロコードのバックアップを作成します。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("test -d /lib/firmware/intel-ucode/ && mv /lib/firmware/intel-ucode/ /lib/firmware/intel-ucode.backup\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"7"}},[e("li",[this._v("新しいマイクロコードをコピーして、チェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cp -r lib/firmware/intel-ucode/ /lib/firmware/\nls -l /lib/firmware/ | grep intel-ucode\ndrwxr-xr-x  2 root root 4096 May 17 11:47 intel-ucode\ndrwxr-xr-x  2 root root 4096 May 16 20:54 intel-ucode.backup\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"8"}},[e("li",[this._v("現在のマイクロコードのバージョンをチェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("dmesg | grep microcode\n[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12\n[ 2.254820] microcode: Microcode Update Driver: v2.01 <tigran@aivazian.fsnet.co.uk>, Peter Oruba\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"9"}},[e("li",[this._v("(オプション) 現在のマイクロコードのバージョン（コアあたりのリビジョン）を、再チェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cat /proc/cpuinfo | grep -e microcode\nmicrocode : 0x12\nmicrocode : 0x12\nmicrocode : 0x12\nmicrocode : 0x12\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"10"}},[e("li",[this._v("マイクロコードリロードファイルが存在することを確認します。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("ls -l /sys/devices/system/cpu/microcode/reload\n--w------- 1 root root 4096 May 17 11:54 /sys/devices/system/cpu/microcode/reload\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"11"}},[e("li",[this._v("カーネルに新しいマイクロコードを強制的にロードさせます。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo 1 > /sys/devices/system/cpu/microcode/reload\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"12"}},[e("li",[this._v("新しいマイクロコードをチェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("dmesg | grep microcode\n[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12\n[ 2.254820] microcode: Microcode Update Driver: v2.01 <tigran@aivazian.fsnet.co.uk>, Peter Oruba\n[ 1483.494573] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.495985] microcode: updated to revision 0x21, date = 2019-02-13\n[ 1483.496012] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.496698] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.497391] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"13"}},[e("li",[this._v("(オプション) 新しいマイクロコードのバージョン（コアあたりのリビジョン）を、再チェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cat /proc/cpuinfo | grep -e microcode\nmicrocode : 0x21\nmicrocode : 0x21\nmicrocode : 0x21\nmicrocode : 0x21\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"red-hatおよびcentosでのマイクロコード更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#red-hatおよびcentosでのマイクロコード更新","aria-hidden":"true"}},[this._v("#")]),this._v(" Red HatおよびCentOSでのマイクロコード更新")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("RHEL ベースのディストリビューションの場合は、 "),e("code",[this._v("microcode_ctl utility")]),this._v(" を使用して、マイクロコードを更新できます。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("code",[this._v("microcode_ctl")]),this._v(" パッケージを更新して最新のマイクロコードを入手します。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum update microcode_ctl\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("強制ファイルを作成します。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("force-late-intel–06–4f–01")]),this._v(" ファームウェアディレクトリの内側を作成します。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("touch /lib/firmware/`uname -r`/force-late-intel-06-4f-01\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("マイクロコードのアップデートを実行します。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/libexec/microcode_ctl/update_ucode\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("カーネルに新しいマイクロコードを強制的にロードさせます。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo 1 > /sys/devices/system/cpu/microcode/reload\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("新しいマイクロコードをチェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("dmesg | grep microcode\n[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12\n[ 2.254820] microcode: Microcode Update Driver: v2.01 <tigran@aivazian.fsnet.co.uk>, Peter Oruba\n[ 1483.494573] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.495985] microcode: updated to revision 0x21, date = 2019-02-13\n[ 1483.496012] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.496698] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.497391] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("(オプション) 新しいマイクロコードのバージョン（コアあたりのリビジョン）を、再チェックします。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cat /proc/cpuinfo | grep -e microcode\nmicrocode : 0x21\nmicrocode : 0x21\nmicrocode : 0x21\nmicrocode : 0x21\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"centos-6でのマイクロコードの更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos-6でのマイクロコードの更新","aria-hidden":"true"}},[this._v("#")]),this._v(" CentOS 6でのマイクロコードの更新")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("1, "),e("code",[this._v("microcode_ctl")]),this._v(" パッケージを更新して最新のマイクロコードを取得します")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum update microcode_ctl\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("2, "),e("code",[this._v("yum update microcode_ctl")]),this._v(" が次を出力する場合,")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Package(s) microcode_ctl available, but not installed.\nNo Packages marked for Update\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("3, "),e("code",[this._v("microcode_ctl")]),this._v(" パッケージをインストールするには、次のコマンドを実行します")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install microcode_ctl\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Installed:\n  microcode_ctl.x86_64 2:1.17-33.11.el6_10                                                                                                                                 \n\nComplete!\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cat /proc/cpuinfo | grep microcode\nmicrocode       : 9\nmicrocode       : 9\nmicrocode       : 9\nmicrocode       : 9\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("microcode_ctl -u\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("microcode_ctl: writing microcode (length: 2370560)\nmicrocode_ctl: cannot open /dev/cpu/microcode for writing errno=2 (No such file or directory)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("modprobe microcode\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("microcode_ctl -u\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("microcode_ctl: writing microcode (length: 2370560)\nmicrocode_ctl: microcode successfully written to /dev/cpu/microcode\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cat /proc/cpuinfo | grep microcode\nmicrocode       : 17\nmicrocode       : 17\nmicrocode       : 17\nmicrocode       : 17\n")])])])}],!1,null,null,null);e.default=a.exports}}]);